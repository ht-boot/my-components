<script setup lang="ts">
import { useWebSocket } from '../hooks/useWebSocket';

const { isConnected, send, close, reconnectCount, connect } = useWebSocket('ws://localhost:3000', {
    debug: true,
    heartbeatInterval: 4000,
    reconnectInterval: 4000,
});

function sendMsg() {
    send({ type: 'ping', msg: 'Hello WebSocket ğŸ‘‹' });
}


</script>

<template>
    <div>
        <p>è¿æ¥çŠ¶æ€ï¼š{{ isConnected ? 'ğŸŸ¢ åœ¨çº¿' : 'ğŸ”´ ç¦»çº¿' }}</p>
        <p>é‡è¿æ¬¡æ•°ï¼š{{ reconnectCount }}</p>
        <el-button @click="sendMsg">å‘é€æ¶ˆæ¯</el-button>
        <el-button @click="() => close()">æ–­å¼€è¿æ¥</el-button>
        <el-button @click="() => connect()">æ–­å¼€é‡è¿</el-button>
    </div>
</template>
